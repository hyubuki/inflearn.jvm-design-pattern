# 데코레이터 패턴 (Decorator Pattern)
> 객체에 추가적인 책임을 동적으로 부여할 수 있도록 하는 구조적 패턴

- 상속을 통해 기능을 확장하는 대신, 특정 객체에만 새로운 행동을 추가하는 패턴
    - SRP와 OCP를 준수하는 패턴
- 런타임에 개별 객체 단위로 책임을 추가하거나 제거할 수 있다.
- 객체 합성(composition)을 활용하여, 기존 객체를 감싸고 호출을 전달(delegate)하는 방식으로 동작

### Keyword
- 컴포넌트(Component) : 공통 인터페이스
- 구상 컴포넌트(ConcreteComponent) : 기능을 덧붙일 대상이 되는 객체, 즉 원본 객체
- 데코레이터(Decorator) : 인터페이스를 구현하는 추상 클래스, 자기 내부에 Component 타입 필드 포함
- 구상 데코레이터(ConcreteDecorator) : 구상 컴포넌트를 감싸고 추가 기능을 구현하는 클래스

### Characteristics
- 인터페이스 일관성과 투명한 사용
- 기능의 계층적 확장과 조합(Chaining)
- SRP & OCP
- 런타임 동적 확장성
- 상속의 대안


### Decorator vs Proxy
- 구현하는 방식은 유사하나, intent가 다르다.

|  구분   |         Decorator          |              Proxy               |
|:-----:|:--------------------------:|:--------------------------------:|
| 주요 목적 |       객체에 새로운 책임을 추가       |           객체에 대한 접근 제어           |
|  초점   | 기능 확장 ( logging, retry 등 ) | 접근 제어 ( transaction, security 등) |
| 사용 시점 |      런타임에 동적으로 추가/제거       |        컴파일 타임 또는 런타임에 고정         |
|  조합   |    여러 개를 체인으로 쌓아 확장 가능     | 보통 하나의 Proxy가 target invoke를 제어  |